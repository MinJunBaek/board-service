<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
  <head>
    <meta charset="UTF-8">
    <title>게시글 목록</title>

    <link
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
        rel="stylesheet"
    >
  </head>
  <body>
    <!-- ===== 네비게이션 바 ===== -->
    <div th:replace="fragments/navbar :: navbar"></div>

    <!-- ===== 본문: 게시글 목록 ===== -->
    <div class="container mt-4">
      <div class="d-flex justify-content-between align-items-center mb-3">
        <div>
          <h2 th:text="${boardName}">게시글 목록</h2>
          <p class="text-muted mb-0">이 게시판에 등록된 게시글입니다.</p>
        </div>
        <!-- 글쓰기 버튼 (URL은 네 설계에 맞게) -->
        <a class="btn btn-primary"
           th:href="@{|/boards/${boardId}/posts/new|}">
          글쓰기
        </a>
      </div>

      <!-- 게시글이 없는 경우 -->
      <div class="alert alert-info" th:if="${#lists.isEmpty(posts)}">
        아직 작성된 게시글이 없습니다. 첫 글의 주인공이 되어보세요!
      </div>

      <!-- 게시글 목록 테이블 -->
      <table class="table table-hover" th:if="${!#lists.isEmpty(posts)}">
        <thead class="table-light">
        <tr>
          <th style="width: 80px;">번호</th>
          <th>제목</th>
          <th style="width: 100px;">좋아요</th>
          <th style="width: 100px;">조회수</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="post, stat : ${posts}">
          <!-- 화면에 보여줄 번호 (1부터 증가) -->
          <td th:text="${stat.count}">1</td>

          <!-- 제목 + 상세 페이지 링크 -->
          <td>
            <a th:href="@{|/posts/${post.id}|}"
               th:text="${post.title}">
              게시글 제목
            </a>
          </td>

          <!-- 좋아요 / 조회수 -->
          <td th:text="${post.likeCount}">0</td>
          <td th:text="${post.viewCount}">0</td>
        </tr>
        </tbody>
      </table>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
